Frontend app
========================

.. note:: The frontend app is generated by python-webpack-boilerplate_ , if you meet issues relevant with frontend, please create Github issues there.

.. _python-webpack-boilerplate: https://github.com/AccordBox/python-webpack-boilerplate

Run frontend app
-------------------------

If Node.js is not available, please install it using nvm_

Run command::

    $ cd frontend

    # install dependency packages
    $ npm install

    # launch a server process, which makes live reloading possible.
    $ npm run start

    # run webpack in watch mode
    $ npm run watch

    # build production assets
    $ npm run build

.. _nvm: https://github.com/nvm-sh/nvm

Frontend app structures
-------------------------

Structure::

    frontend
    ├── README.md
    ├── node_modules
    ├── package-lock.json
    ├── package.json
    ├── postcss.config.js
    ├── src
    │   ├── application
    │   │   ├── app.js
    │   │   └── app2.js
    │   ├── components
    │   │   └── sidebar.js
    │   └── styles
    │       └── index.scss
    ├── vendors
    └── webpack

1. We can add entry files to ``src/application``. For example, ``HomePage.js``, ``BlogPage.js``
2. Reusable components can be placed at ``src/components``
3. SCSS and CSS code can be put at ``src/styles``
4. Static assets such as images, fonts and other files can be put at ``vendors``

SCSS
------

By default, the frontend app created by ``python-webpack-boilerplate`` is using Bootstrap 5, you can customize the Bootstrap theme using SCSS syntax.

Or you can check Bootswatch_

To customize the Bootstrap, please update ``frontend/src/styles/index.scss``: ::

    // If you comment out code below, bootstrap will use red as primary color
    // and btn-primary will become red

    // $primary: red;

    @import "~bootstrap/scss/bootstrap.scss";

    .jumbotron {
      // should be relative path of the entry scss file
      background-image: url("../../vendors/images/sample.jpg");
      background-size: cover;
    }

.. _Bootswatch: https://github.com/thomaspark/bootswatch

Install npm package
---------------------

To install other NPM package: ::

    $ cd frontend
    $ npm install axios
    $ npm install bootstrap@5.1.1

If you are using docker on local::

    $ docker-compose -f local.yml build
    $ docker-compose -f local.yml up

    # run command below in a new terminal
    $ docker-compose -f local.yml exec node npm install axios
    $ docker-compose -f local.yml exec node npm install bootstrap@5.1.1

CDN Link
----------

In the above section, we import Bootstrap 5 using NPM command.

If you still want to import Bootstrap 5 using CDN link in template, please put the CDN link before the `app.js`::

    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.1/js/bootstrap.min.js"></script>
    {% javascript_pack 'app' attrs='defer' %}

And then remove `import "bootstrap/dist/js/bootstrap.bundle";` from the *frontend/src/application/app.js*
